<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iris Flower Dataset Map</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background: #f5f5f5;
    }

    .main-container {
      display: flex;
      flex-direction: row;
      align-items: stretch;
      height: 80vh;    /* Both children (.info-box and .resizable) will be 100% of this */
      width: 90vw;
      box-sizing: border-box;
      gap: 32px;
    }

    /* Make the info-box a fixed small width (e.g. 300px) */
    .info-box {
      flex: 0 0 300px;            /* fixed base width of 300px, no growing/shrinking */
      background: #fff;
      border: 2px solid #222;
      border-radius: 12px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.10);
      display: flex;
      flex-direction: column;
      padding: 24px 16px;
      box-sizing: border-box;
      overflow-y: auto;           /* scroll if content overflows */
      height: 100%;               /* match .main-container’s 80vh */
      margin: 0;
      z-index: 3;
    }

    .info-box .placeholder-content {
      font-size: 1.2em;
      color: #333;
      margin-bottom: 12px;
    }

    .info-box .bottom-image {
      width: 100%;
      height: auto;
      object-fit: contain;
      border-radius: 8px;
      display: block;
      margin-top: 12px;
    }

    /* Let the iframe container fill the remaining space */
    .resizable {
      flex: 1 1 auto;             /* grow to fill leftover width */
      min-width: 0;
      height: 100%;               /* fills .main-container’s 80vh */
      position: relative;
      border: 1px solid #ccc;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      background: #fff;
      overflow: hidden;
      border-radius: 12px;
      display: flex;
      align-items: stretch;
      justify-content: stretch;
    }

    .resizable iframe,
    .loading-box {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      box-sizing: border-box;
    }

    .resizable iframe {
      border: 2px solid black;
      background: #fff;
      z-index: 1;
      display: block;
    }

    .loading-box {
      background: #fff;
      border: 2px solid #222;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      color: #222;
      z-index: 2;
      border-radius: 12px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.15);
      transition: opacity 0.3s;
    }

    .loading-box.hide {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }
  </style>
</head>
<body>
  <div class="main-container">
    <div class="info-box">
      <div class="placeholder-content">
        <p>
          To display a Nomic Atlas dataset on a website, I set my Nomic Atlas dataset to public and made an
          <code>&lt;iframe&gt;</code> using the public sharing URL.
        </p>

        <p>
          Here’s the Nomic Atlas data visualization hosted on a
          <a href="https://PLACEHOLDER_FOR_GITHUB_PAGES" target="_blank" rel="noopener">
            GitHub Pages website
          </a>.
          It works whether you are signed into Nomic Atlas or not, so anyone can use it regardless of whether they have a Nomic Atlas account.
        </p>

        <p>
          There are probably other ways to embed a Nomic Atlas dataset on a website, although their documentation does not mention any.
          I think there might be other ways of doing this alluded to in their
          <a href="https://docs.nomic.ai/atlas/integrations/external-integrations" target="_blank" rel="noopener">
            External Integrations Documentation
          </a>.
        </p>

        <!-- Add more paragraphs or content here; if it exceeds 300px height, the box will scroll -->
      </div>

      <img
        class="bottom-image"
        src="https://upload.wikimedia.org/wikipedia/commons/4/41/Iris_versicolor_3.jpg"
        alt="Iris Flower"
      />
    </div>

    <div class="resizable">
      <div class="loading-box" id="loadingBox">Loading...</div>
      <iframe
        src="https://atlas.nomic.ai/data/ui-charitable/iris-flower-dataset-test-embed-in-website/map/f498227c-74a7-4c17-85dd-13f98bdca639#7pXd"
        allowfullscreen
      ></iframe>
    </div>
  </div>

  <script>
    // Hide the loading box after 2 seconds
    setTimeout(function() {
      document.getElementById('loadingBox').classList.add('hide');
    }, 2000);
  </script>
</body>
</html>
